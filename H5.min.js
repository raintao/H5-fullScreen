$(function(){$(".divList").css("height",$(window).height());var d=[0,0],e=5,c=0,b=0,f=false,a=0,g=null;document.addEventListener("touchstart",function(h){h.preventDefault();var i=h.touches[0];c=i.pageY;d[0]=c;console.log("start:"+c)});document.addEventListener("touchmove",function(h){h.preventDefault();var i=h.touches[0];b=i.pageY;f=true;console.log(f)});document.addEventListener("touchend",function(h){h.preventDefault();console.log("end:"+b);d[1]=b;if(f&&d[1]-d[0]<-30){a=parseInt($(".divList.active").attr("data-tar"))+1;if(a>=e+1){a=1}console.log("下个现实的列表为:"+a);$("[data-tar='"+a+"']").css("transform","translateY(100%)");$("[data-tar='"+a+"']").addClass("active current");g=setTimeout(function(){$("[data-tar='"+a+"']").css("transform","translateY(0)");clearTimeout(g);g=null;g=setTimeout(function(){$(".divList>p").removeClass("active actives");console.log((a-1)<=0?e:a-1);$("[data-tar='"+((a-1)<=0?e:a-1)+"']").removeClass("active");$("[data-tar='"+a+"']").removeClass("current");$("[data-tar='"+a+"']>p").addClass("active");clearTimeout(g);g=null},400)},10)}else{if(f&&d[1]-d[0]>=30){a=parseInt($(".divList.active").attr("data-tar"))-1;if(a<=0){a=e}console.log("上移的目标位:"+a);$("[data-tar='"+a+"']").css("transform","translateY(-100%)");$("[data-tar='"+a+"']").addClass("active current");g=setTimeout(function(){$("[data-tar='"+a+"']").css("transform","translateY(0)");clearTimeout(g);g=null;g=setTimeout(function(){$(".divList>p").removeClass("active actives");$("[data-tar='"+((a+1)>e?1:a+1)+"']").removeClass("active");$("[data-tar='"+a+"']").removeClass("current");clearTimeout(g);g=null;$("[data-tar='"+a+"']>p").addClass("active")},400)},10)}}f=false})});